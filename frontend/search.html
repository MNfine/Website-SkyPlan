<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SkyPlane – Search Results</title>
    <link rel="stylesheet" href="assets/styles/search.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="assets/styles/reset.css">
    <link rel="stylesheet" href="assets/styles/index.css">
    <link rel="stylesheet" href="assets/styles/flags.css">
    <link rel="stylesheet" href="assets/styles/header.css">
    <link rel="stylesheet" href="assets/styles/footer.css">
    <link rel="stylesheet" href="assets/styles/user-menu.css">
</head>
<body class="with-fixed-header with-fixed-footer">
    <div id="header-container"></div>

    <main class="sp-container">
        <aside class="sp-filters" aria-label="Search filters">
            <h2 class="sp-title">Chuyến đi của bạn</h2>

            <div class="sp-field">
                <label for="from" class="sp-label">Từ</label>
                <select id="from" class="sp-input">
                    <option value="HaNoi">Hà Nội</option>
                    <option value="HoChiMinh">Hồ Chí Minh</option>
                    <option value="DaNang">Đà Nẵng</option>
                    <option value="CanTho">Cần Thơ</option>
                    <option value="LamDong">Lâm Đồng</option>
                    <option value="QuangTri">Quảng Trị</option>
                    <option value="DakLak">Đắk Lắk</option>
                    <option value="KhanhHoa">Khánh Hòa</option>
                    <option value="HaiPhong">Hải Phòng</option>
                    <option value="Hue">Huế</option>
                    <option value="DienBien">Điện Biên</option>
                    <option value="GiaLai">Gia Lai</option>
                    <option value="AnGiang">An Giang</option>
                    <option value="ThanhHoa">Thanh Hóa</option>
                    <option value="NgheAn">Nghệ An</option>
                    <option value="QuangNinh">Quảng Ninh</option>
                    <option value="SonLa">Sơn La</option>
                </select>
            </div>

            <div class="sp-field">
                <label for="to" class="sp-label">Đến</label>
                <select id="to" class="sp-input">
                    <option value="HaNoi">Hà Nội</option>
                    <option value="HoChiMinh">Hồ Chí Minh</option>
                    <option value="DaNang">Đà Nẵng</option>
                    <option value="CanTho">Cần Thơ</option>
                    <option value="LamDong">Lâm Đồng</option>
                    <option value="QuangTri">Quảng Trị</option>
                    <option value="DakLak">Đắk Lắk</option>
                    <option value="KhanhHoa">Khánh Hòa</option>
                    <option value="HaiPhong">Hải Phòng</option>
                    <option value="Hue">Huế</option>
                    <option value="DienBien">Điện Biên</option>
                    <option value="GiaLai">Gia Lai</option>
                    <option value="AnGiang">An Giang</option>
                    <option value="ThanhHoa">Thanh Hóa</option>
                    <option value="NgheAn">Nghệ An</option>
                    <option value="QuangNinh">Quảng Ninh</option>
                    <option value="SonLa">Sơn La</option>
                </select>
            </div>

            <div class="sp-trip-type">
                <label class="sp-radio">
                    <input type="radio" name="trip-type" value="round-trip" checked>
                    <span>Khứ hồi</span>
                </label>
                <label class="sp-radio">
                    <input type="radio" name="trip-type" value="one-way">
                    <span>Một chiều</span>
                </label>
            </div>
            
            <div class="sp-row sp-field-group">
                <div class="sp-field">
                    <label for="dep" class="sp-label">Ngày đi</label>
                    <input id="dep" class="sp-input" type="date" />
                </div>
                <div class="sp-field" id="return-date-field">
                    <label for="ret" class="sp-label">Ngày về</label>
                    <input id="ret" class="sp-input" type="date" />
                </div>
            </div>

            <button class="sp-btn sp-btn-secondary" type="button">
                <i class="fa-solid fa-magnifying-glass"></i>
                Tìm kiếm
            </button>

            <h3 class="sp-subtitle">Bộ lọc</h3>

            <section class="sp-section">
                <div class="sp-section-title">Số điểm dừng</div>
                <label class="sp-choice"><input type="radio" name="stops" checked> Bay thẳng</label>
                <label class="sp-choice"><input type="radio" name="stops"> 1 điểm dừng</label>
                <label class="sp-choice"><input type="radio" name="stops"> 2 điểm dừng</label>
                <label class="sp-choice"><input type="radio" name="stops"> 3 điểm dừng</label>
            </section>

            <section class="sp-section">
                <div class="sp-section-title">Hành lý</div>
                <div class="sp-counter" data-counter="cabin">
                    <span>Hành lý sách tay</span>
                    <button class="sp-chip" data-minus aria-label="decrease cabin">−</button>
                    <span class="sp-count" data-value>2</span>
                    <button class="sp-chip" data-plus aria-label="increase cabin">＋</button>
                </div>
                <div class="sp-counter" data-counter="checked">
                    <span>Hành lý ký gửi</span>
                    <button class="sp-chip" data-minus aria-label="decrease checked">−</button>
                    <span class="sp-count" data-value>0</span>
                    <button class="sp-chip" data-plus aria-label="increase checked">＋</button>
                </div>
            </section>

            <section class="sp-section">
                <div class="sp-section-title">Giờ bay</div>
                <label class="sp-choice"><input type="radio" name="time" checked>5:00 - 11:49</label>
                <label class="sp-choice"><input type="radio" name="time">12:00 - 17:59</label>
                <label class="sp-choice"><input type="radio" name="time"> 18:00 - 23:59</label>
                <label class="sp-choice"><input type="radio" name="time"> 00:00 - 4:59</label>
            </section>

            <section class="sp-section">
                <div class="sp-section-title">Ngân sách</div>
                <div class="sp-price-top"><span>0 VND – 5.000.000 VND</span><span>Bất kỳ</span></div>
                <input id="priceRange" class="sp-range" type="range" max="5000000" step="50000" value="2000000" />
                <div class="sp-price-bottom"><span>0 VND</span><span id="priceOut">2.000.000 VND</span></div>
            </section>
        </aside>

        <section class="sp-results" aria-live="polite">

        </section>
    </main>

    <div id="spModal" class="sp-modal" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="sp-modal__backdrop" data-close></div>

        <div class="sp-modal__dialog" role="document" aria-labelledby="spModalTitle">
            <div class="sp-modal__header">
                <!-- <h2 id="spModalTitle">Chi tiết chuyến bay</h2> -->
                <button class="sp-modal__close" aria-label="Close" data-close>&times;</button>
            </div>

            <div class="sp-modal__content">
                <!-- OUTBOUND -->
                <section class="sp-leg">
                    <div class="sp-leg__title">Đến <span data-to-city>—</span></div>
                    <div class="sp-leg__panel">
                        <div class="sp-leg__grid">
                            <div class="sp-leg__date">
                                <i class="fa-regular fa-calendar"></i>
                                <span data-out-date>—</span>
                            </div>
                            <div class="sp-leg__timeline">
                                <div class="sp-node">
                                    <div class="sp-node__time" data-out-dep-time>—</div>
                                    <div class="sp-node__icon"><i class="fa-solid fa-location-pin"></i></div>
                                    <div class="sp-node__text" data-out-dep-airport>—</div>
                                </div>
                                <div class="sp-node sp-node--plane">
                                    <div class="sp-node__time">&nbsp;</div>
                                    <div class="sp-node__icon"><i class="fa-solid fa-plane"></i></div>
                                </div>
                                <div class="sp-node">
                                    <div class="sp-node__time" data-out-arr-time>—</div>
                                    <div class="sp-node__icon"><i class="fa-solid fa-location-dot"></i></div>
                                    <div class="sp-node__text" data-out-arr-airport>—</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- INBOUND -->
                <section class="sp-leg">
                    <div class="sp-leg__title">Đến <span data-from-city>—</span></div>
                    <div class="sp-leg__panel">
                        <div class="sp-leg__grid">
                            <div class="sp-leg__date">
                                <i class="fa-regular fa-calendar"></i>
                                <span data-in-date>—</span>
                            </div>
                            <div class="sp-leg__timeline">
                                <div class="sp-node">
                                    <div class="sp-node__time" data-in-dep-time>—</div>
                                    <div class="sp-node__icon"><i class="fa-solid fa-location-pin"></i></div>
                                    <div class="sp-node__text" data-in-dep-airport>—</div>
                                </div>
                                <div class="sp-node sp-node--plane">
                                    <div class="sp-node__time">&nbsp;</div>
                                    <div class="sp-node__icon"><i class="fa-solid fa-plane"></i></div>
                                </div>
                                <div class="sp-node">
                                    <div class="sp-node__time" data-in-arr-time>—</div>
                                    <div class="sp-node__icon"><i class="fa-solid fa-location-dot"></i></div>
                                    <div class="sp-node__text" data-in-arr-airport>—</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <div class="sp-modal__footer">
                <button class="sp-btn sp-btn--ghost" type="button" data-i18n="shareTrip">Chia sẻ chuyến đi</button>
                <button id="spBookBtn" class="sp-btn sp-btn--primary" type="button" data-i18n="bookNowFor">Đặt ngay với giá</button>
            </div>
        </div>
    </div>

    <div id="footer-container"></div>

    <!-- Tất cả JavaScript đã được chuyển sang file ngoài -->
    <script src="assets/scripts/common.js"></script>
    <script src="assets/scripts/search_translations.js"></script>
    <script src="assets/scripts/search.js"></script>
    <script src="assets/scripts/search_filter.js"></script>
    
    <script>
        // Khởi tạo ngay khi trang tải xong
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof initSearchTranslations === 'function') {
                initSearchTranslations();
            }
            
            // Kích hoạt tìm kiếm ban đầu
            if (typeof fetchFlights === 'function') {
                fetchFlights();
            }
        });
    </script>
</body>
</html>
