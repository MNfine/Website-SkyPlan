<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyPlan - Blog Du L·ªãch</title>
  <meta name="description" content="Kh√°m ph√° blog du l·ªãch v√† chat v·ªõi AI ƒë·ªÉ nh·∫≠n g·ª£i √Ω l·ªãch tr√¨nh.">

  <link rel="icon" href="assets/images/favicon.svg" type="image/svg+xml">
  <link rel="alternate icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <link rel="stylesheet" href="assets/styles/reset.css">
  <link rel="stylesheet" href="assets/styles/index.css">
  <link rel="stylesheet" href="assets/styles/flags.css">
  <link rel="stylesheet" href="assets/styles/header.css">
  <link rel="stylesheet" href="assets/styles/footer.css">
  <link rel="stylesheet" href="assets/styles/blog.css">
  <link rel="stylesheet" href="assets/styles/loader.css">
</head>

<body>
  <div id="header-container"></div>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <div class="blog-page">
        <!-- Page Header -->
        <div class="page-header">
          <h1 class="page-title" data-i18n="blogTitle">Blog Du L·ªãch</h1>
          <p class="page-subtitle" data-i18n="blogSubtitle">Kh√°m ph√° nh·ªØng b√†i vi·∫øt du l·ªãch v√† nh·∫≠n g·ª£i √Ω t·ª´ AI</p>
        </div>

        <!-- Blog Layout -->
        <div class="blog-layout">
          <!-- Sidebar -->
          <aside class="blog-sidebar">
            <!-- Categories -->
            <div class="sidebar-section">
              <h3 class="sidebar-title" data-i18n="categories">Danh m·ª•c</h3>
              <ul class="category-list">
                <li class="category-item active" data-category="all">
                  <i class="fas fa-th"></i>
                  <span data-i18n="allPosts">T·∫•t c·∫£</span>
                </li>
                <li class="category-item" data-category="destination">
                  <i class="fas fa-map-marker-alt"></i>
                  <span data-i18n="destination">ƒêi·ªÉm ƒë·∫øn</span>
                </li>
                <li class="category-item" data-category="tips">
                  <i class="fas fa-lightbulb"></i>
                  <span data-i18n="tips">M·∫πo</span>
                </li>
                <li class="category-item" data-category="food">
                  <i class="fas fa-utensils"></i>
                  <span data-i18n="food">·∫®m th·ª±c</span>
                </li>
              </ul>
            </div>

          </aside>

          <!-- Main Blog Content -->
          <div class="blog-content">
            <!-- Search Bar -->
            <div class="search-container">
              <input type="text" id="searchInput" class="search-input" data-i18n-placeholder="searchPlaceholder" placeholder="T√¨m ki·∫øm b√†i vi·∫øt...">
              <i class="fas fa-search search-icon"></i>
            </div>

            <!-- Blog Grid -->
            <div class="blog-grid" id="blogGrid">
              <!-- Blog posts will be dynamically generated -->
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination">
              <button class="pagination-btn" id="prevBtn" disabled>
                <i class="fas fa-chevron-left"></i>
                <span data-i18n="previous">Tr∆∞·ªõc</span>
              </button>
              <div class="page-numbers" id="pageNumbers"></div>
              <button class="pagination-btn" id="nextBtn">
                <span data-i18n="next">Sau</span>
                <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- AI Chat Modal -->
  <div class="chat-modal" id="chatModal">
    <div class="chat-container">
      <!-- Chat Header -->
      <div class="chat-header">
        <div class="chat-header-left">
          <div class="ai-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <div class="chat-title-group">
            <h3 class="chat-title" data-i18n="aiTravelAssistant">AI Tr·ª£ l√Ω Du l·ªãch</h3>
            <span class="chat-status">
              <span class="status-dot"></span>
              <span data-i18n="online">Tr·ª±c tuy·∫øn</span>
            </span>
          </div>
        </div>
        <button class="close-chat" id="closeChatBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Chat Messages Area -->
      <div class="chat-messages" id="chatMessages">
        <!-- Welcome message -->
        <div class="message bot-message">
          <div class="message-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <div class="message-content">
            <p data-i18n="welcomeMessage">Xin ch√†o! T√¥i l√† AI tr·ª£ l√Ω du l·ªãch. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:</p>
            <ul class="help-list">
              <li data-i18n="help1">‚úàÔ∏è G·ª£i √Ω l·ªãch tr√¨nh du l·ªãch</li>
              <li data-i18n="help2">üó∫Ô∏è T∆∞ v·∫•n ƒëi·ªÉm ƒë·∫øn</li>
              <li data-i18n="help3">üçú Gi·ªõi thi·ªáu ·∫©m th·ª±c</li>
              <li data-i18n="help4">üí° Chia s·∫ª m·∫πo du l·ªãch</li>
            </ul>
            <p data-i18n="askMe">B·∫°n mu·ªën h·ªèi g√¨?</p>
          </div>
        </div>
      </div>

      <!-- Quick Suggestions -->
      <div class="chat-suggestions" id="chatSuggestions">
        <button class="suggestion-chip" data-suggestion="itinerary">
          <i class="fas fa-route"></i>
          <span data-i18n="suggestItinerary">L·ªãch tr√¨nh 3 ng√†y</span>
        </button>
        <button class="suggestion-chip" data-suggestion="destination">
          <i class="fas fa-map-marked-alt"></i>
          <span data-i18n="suggestDestination">ƒêi·ªÉm ƒë·∫øn hot</span>
        </button>
        <button class="suggestion-chip" data-suggestion="budget">
          <i class="fas fa-wallet"></i>
          <span data-i18n="suggestBudget">Du l·ªãch r·∫ª</span>
        </button>
        <button class="suggestion-chip" data-suggestion="food">
          <i class="fas fa-utensils"></i>
          <span data-i18n="suggestFood">·∫®m th·ª±c</span>
        </button>
      </div>

      <!-- Chat Input -->
      <div class="chat-input-container">
        <div class="chat-input-wrapper">
          <input 
            type="text" 
            class="chat-input" 
            id="chatInput" 
            data-i18n-placeholder="chatPlaceholder"
            placeholder="Nh·∫≠p c√¢u h·ªèi..."
            autocomplete="off"
          >
          <button class="send-button" id="sendButton">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
        <div class="chat-note">
          <i class="fas fa-info-circle"></i>
          <span data-i18n="aiNote">Demo AI - Ph·∫£n h·ªìi ƒë∆∞·ª£c m√¥ ph·ªèng</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating AI Button -->
  <button class="floating-ai-btn" id="openChatBtn" title="Chat v·ªõi AI">
    <i class="fas fa-robot"></i>
    <span class="ai-pulse"></span>
  </button>

  <div id="footer-container"></div>

  <!-- JavaScript -->
  <script src="assets/scripts/blog_translations.js"></script>
  <script src="assets/scripts/toast.js"></script>
  <script src="assets/scripts/common.js"></script>
  <script src="assets/scripts/blog.js"></script>
  <script src="assets/scripts/auth-utils.js"></script>

  <!-- Load Components and Initialize -->
  <script>
    // Load header
    fetch('components/header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header-container').innerHTML = data;
        
        // Initialize language
        let currentLang = localStorage.getItem('preferredLanguage') || 'vi';
        document.documentElement.lang = currentLang;
        
        if (typeof applyBlogTranslations === 'function') {
          applyBlogTranslations(currentLang);
        }
        
        if (typeof initializeLanguageSelector === 'function') {
          initializeLanguageSelector();
        }
        
        if (typeof updateSelectedLanguage === 'function') {
          updateSelectedLanguage(currentLang);
        }
        
        if (typeof initializeMobileMenu === 'function') {
          initializeMobileMenu();
        }
      })
      .catch(error => console.error('Error loading header:', error));

    // Load footer
    fetch('components/footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer-container').innerHTML = data;
        
        const lang = localStorage.getItem('preferredLanguage') || 'vi';
        if (typeof applyBlogTranslations === 'function') {
          applyBlogTranslations(lang);
        }
      })
      .catch(error => console.error('Error loading footer:', error));

    // Set default language
    if (!localStorage.getItem('preferredLanguage')) {
      localStorage.setItem('preferredLanguage', 'vi');
    }
  </script>

  <!-- Loader -->
  <script src="assets/scripts/loader.js"></script>
  <script>
    fetch('components/loader.html')
      .then(r => r.text())
      .then(html => {
        document.body.insertAdjacentHTML('afterbegin', html);
        if (window.Loader) {
          window.Loader.show();
        }
      });

    window.addEventListener('load', function() {
      setTimeout(function() {
        if (window.Loader) {
          window.Loader.hide();
        }
      }, 500);
    });
  </script>
</body>

</html>
